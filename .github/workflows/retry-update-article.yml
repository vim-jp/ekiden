name: 'Retry update article'
run-name: 'Retry https://github.com/${{ github.repository }}/actions/runs/${{ inputs.run_id }}'
on:
  workflow_dispatch:
    inputs:
      run_id:
        type: 'string'

jobs:
  retry-on-failure:
    name: 'Retry on failure'
    runs-on: 'ubuntu-latest'
    permissions:
      actions: 'write'
    steps:
      - uses: 'actions/github-script@ed597411d8f924073f98dfc5c65a23a2325f34cd' # v8.0.0
        with:
          script: |
            github.rest.actions.reRunWorkflowFailedJobs({
              ...context.repo,
              run_id: ${{ toJSON(inputs.run_id) }},
            });
